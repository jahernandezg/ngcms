<div  class="overflow-hidden rounded-2xl border border-gray-200 bg-white px-4 pb-3 pt-4 mt-5 dark:border-gray-800 dark:bg-white/3 sm:px-6">
  <div class="flex flex-col gap-2 mb-4 sm:flex-row sm:items-center sm:justify-between">
    <div>
      <h3 class="text-lg font-semibold text-gray-800 dark:text-white/90">
        Páginas
      </h3>

      <div class="mb-4 space-y-3">
        <form class="flex flex-wrap gap-3 items-end text-sm">

          <div>
            <label for="filter-status" class="mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400">Status</label>
            <select id="filter-status" #stSel
                class="dark:bg-dark-900 shadow-theme-xs focus:border-brand-300 focus:ring-brand-500/10 dark:focus:border-brand-800 h-11 w-full appearance-none rounded-lg border border-gray-300 bg-transparent bg-none px-4 py-2.5 pr-11 text-sm text-gray-800 placeholder:text-gray-400 focus:ring-3 focus:outline-hidden dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30"
              [formControl]="filterForm.controls.status">
              <option value="" class="text-gray-700 dark:bg-gray-900 dark:text-gray-400">Todos</option>
              <option value="DRAFT"  class="text-gray-700 dark:bg-gray-900 dark:text-gray-400">DRAFT</option>
              <option value="PUBLISHED"  class="text-gray-700 dark:bg-gray-900 dark:text-gray-400">PUBLISHED</option>
              <option value="ARCHIVED"  class="text-gray-700 dark:bg-gray-900 dark:text-gray-400">ARCHIVED</option>
            </select>
          </div>
          <div class="flex gap-2">

              <button type="button" (click)="reload()"
                class="inline-flex items-center gap-2 rounded-lg border border-gray-300 bg-white px-4 py-2.5 text-theme-sm font-medium text-gray-700 shadow-theme-xs hover:bg-gray-50 hover:text-gray-800 dark:border-gray-700 dark:bg-gray-800 dark:text-gray-400 dark:hover:bg-white/[0.03] dark:hover:text-gray-200">
                <svg class="stroke-current fill-white dark:fill-gray-800" width="20" height="20" viewBox="0 0 20 20" fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path d="M2.29004 5.90393H17.7067" stroke="" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                  <path d="M17.7075 14.0961H2.29085" stroke="" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                  <path
                    d="M12.0826 3.33331C13.5024 3.33331 14.6534 4.48431 14.6534 5.90414C14.6534 7.32398 13.5024 8.47498 12.0826 8.47498C10.6627 8.47498 9.51172 7.32398 9.51172 5.90415C9.51172 4.48432 10.6627 3.33331 12.0826 3.33331Z"
                    fill="" stroke="" stroke-width="1.5" />
                  <path
                    d="M7.91745 11.525C6.49762 11.525 5.34662 12.676 5.34662 14.0959C5.34661 15.5157 6.49762 16.6667 7.91745 16.6667C9.33728 16.6667 10.4883 15.5157 10.4883 14.0959C10.4883 12.676 9.33728 11.525 7.91745 11.525Z"
                    fill="" stroke="" stroke-width="1.5" />
                </svg>
                Filtrar
              </button>
          </div>
        </form>
      </div>

    </div>

    <div class="flex items-center gap-3">

      <button  routerLink="/admin/pages/new"
        class="inline-flex items-center gap-2 rounded-lg border border-brand-300 bg-white px-4 py-2.5 text-theme-sm font-medium text-brand-700 shadow-theme-xs hover:bg-brand-50 hover:text-brand-800 dark:border-brand-700 dark:bg-brand-800 dark:text-brand-400 dark:hover:bg-white/[0.03] dark:hover:text-brand-200">
         Nueva Página
      </button>
    </div>
  </div>

  @if (pages().length) {
    <div class="w-full overflow-x-auto min-w-full border rounded-lg divide-y bg-white dark:bg-gray-800 border-gray-300 dark:border-gray-600 divide-gray-200 dark:divide-gray-700 transition-colors">
    @for (p of pages(); track p.id) {
    <div class="p-3 flex items-center gap-4 text-sm">
      <div class="flex-1 min-w-0">
        <a [routerLink]="['/admin/pages', p.id]" class="font-medium hover:underline dark:text-white/90">{{p.title}}</a>
        <div class="text-xs text-gray-500 dark:text-gray-400 truncate">/{{p.slug}}
          @if (p.isHomepage) {
            <span class="ml-1 px-1 py-0.5 bg-green-100 text-green-700 rounded">Home</span>
          }
        </div>
      </div>
      <div class="w-28 text-xs text-gray-500 dark:text-gray-400">{{p.status}}</div>
      <div class="w-40 text-xs text-gray-500 dark:text-gray-400">{{p.updatedAt | date:'short'}}</div>
      <div class="flex gap-2">

          @if (!p.isHomepage) {
            <button (click)="setHomepage(p)"
            class="inline-flex items-center gap-2 rounded-lg border border-brand-300 bg-white px-4 py-2.5 text-theme-sm font-medium text-brand-700 shadow-theme-xs hover:bg-brand-50 hover:text-brand-800 dark:border-brand-700 dark:bg-brand-800 dark:text-brand-400 dark:hover:bg-white/[0.03] dark:hover:text-brand-200">
            Home
          </button>
          }

          @if (p.status !== 'ARCHIVED') {
            <button (click)="archive(p)"
            class="inline-flex items-center cursor:pointer gap-2 rounded-lg border border-warning-300 bg-white px-4 py-2.5 text-theme-sm font-medium text-warning-700 shadow-theme-xs hover:bg-warning-50 hover:text-warning-800 dark:border-warning-700 dark:bg-warning-800 dark:text-warning-400 dark:hover:bg-white/[0.03] dark:hover:text-warning-200">
            Archivar
          </button>
          }

      </div>
    </div>
    }
  </div>
  } @else {
    <p class="text-sm text-gray-500 dark:text-gray-400">Sin páginas.</p>
  }

